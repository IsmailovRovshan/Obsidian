**Оконные функции (window functions)** в PostgreSQL — это такие функции, которые позволяют выполнять вычисления **по строкам в пределах некоторого "окна" (набора строк)**, но при этом **не сворачивают данные в одну строку**, как это делает `GROUP BY`.
### Отличие от агрегатных функций:
- **Агрегатные функции** (`SUM`, `AVG`, `COUNT` и др.) собирают строки в группы и возвращают по одной строке на каждую группу.
- **Оконные функции** делают вычисления "поверх" набора строк (окна), но при этом каждая строка сохраняется в результате.

Общий синтаксис:
```
<функция>() OVER (
    PARTITION BY <разбить по группам>
    ORDER BY <упорядочить внутри группы>
)
```
- `PARTITION BY` — делит строки на группы (аналог `GROUP BY`, но данные не схлопываются).
- `ORDER BY` — задаёт порядок внутри группы (например, чтобы считать порядковый номер).
- `OVER()` — указывает, что это оконная функция.

# Группы оконных функций
[[Нумерация строк]]
[[Агрегатные функции как оконные]]
